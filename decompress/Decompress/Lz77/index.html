<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Lz77 (decompress.Decompress.Lz77)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">decompress</a> &#x00BB; <a href="../index.html">Decompress</a> &#x00BB; Lz77</nav><h1>Module <code>Decompress.Lz77</code></h1><p>Lz77 algorithm.</p><p>A functionnal non-blocking implementation of Lz77 algorithm. This algorithm produces a <code>Hunk.t list</code> of an input.</p><p>This algorithm is the same as <a href="blosclz">https://github.com/Blosc/c-blosc</a>. So the implementation is an imperative hack in OCaml. May be it's not the best in the functionnal world but it works. The interface was thinked to be replaced by your implemenation by a functor.</p></header><dl><dt class="spec type" id="type-error"><a href="#type-error" class="anchor"></a><code><span class="keyword">type</span> error</code><code> = </code><table class="variant"><tr id="type-error.Invalid_level" class="anchored"><td class="def constructor"><a href="#type-error.Invalid_level" class="anchor"></a><code>| </code><code><span class="constructor">Invalid_level</span> <span class="keyword">of</span> int</code></td><td class="doc"><p>This error appears when you try to compute the Lz77 algorithm with a wrong level (<code>level &gt;= 0 &amp;&amp; level &lt;= 9</code>).</p></td></tr><tr id="type-error.Invalid_wbits" class="anchored"><td class="def constructor"><a href="#type-error.Invalid_wbits" class="anchor"></a><code>| </code><code><span class="constructor">Invalid_wbits</span> <span class="keyword">of</span> int</code></td><td class="doc"><p>This error appears when you specify a bad wbits: <code>wbits &gt;= 8 &amp;&amp; wbits &lt;= 15</code></p></td></tr></table></dt><dd><p>Lz77 error.</p></dd></dl><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> <span>'i t</span></code></dt><dd><p>The state of the Lz77 algorithm.</p></dd></dl><dl><dt class="spec value" id="val-pp_error"><a href="#val-pp_error" class="anchor"></a><code><span class="keyword">val</span> pp_error : Stdlib.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-error">error</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Pretty-printer of Lz77 error.</p></dd></dl><dl><dt class="spec value" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span class="keyword">val</span> pp : Stdlib.Format.formatter <span>&#45;&gt;</span> <span><span class="type-var">'i</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Pretty-printer of Lz77 state.</p></dd></dl><dl><dt class="spec value" id="val-used_in"><a href="#val-used_in" class="anchor"></a><code><span class="keyword">val</span> used_in : <span><span class="type-var">'i</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> int</code></dt><dd><p><code>used_in t</code> returns <code>n</code> bytes(s) used by the algorithm in the current input.</p></dd></dl><dl><dt class="spec value" id="val-default"><a href="#val-default" class="anchor"></a><code><span class="keyword">val</span> default : <span>witness:<span><span class="type-var">'i</span> <a href="../Buffer/index.html#type-t">Buffer.t</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;level:int</span> <span>&#45;&gt;</span> <span>?&#8288;on:<span>(<a href="../Hunk/index.html#type-t">Hunk.t</a> <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span><span class="type-var">'i</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p><code>default ~witness ~level ~on wbits</code> produces a new state to compute the Lz77 algorithm in an input. <code>level</code> means the level of the compression (between 0 and 9), <code>on</code> is a function called when the algorithm produce one <code>Hunk.t</code> and <code>wbits</code> is the window size allowed.</p><p>Usually, <code>wbits = 15</code> for a window of 32K. If <code>wbits</code> is lower, you constraint the distance of a <code>Match</code> produced by the Lz77 algorithm to the window size.</p><p><code>on</code> is a function to interact fastly with your data-structure and keep frequencies of <code>Literal</code> and <code>Match</code>.</p></dd></dl></div></body></html>