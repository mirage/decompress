<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Lz77 (rfc1951.Rfc1951.Lz77)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">rfc1951</a> &#x00BB; <a href="../index.html">Rfc1951</a> &#x00BB; Lz77</nav><h1>Module <code>Rfc1951.Lz77</code></h1></header><dl><dt class="spec value" id="val-_max_match"><a href="#val-_max_match" class="anchor"></a><code><span class="keyword">val</span> _max_match : int</code></dt><dt class="spec value" id="val-_min_match"><a href="#val-_min_match" class="anchor"></a><code><span class="keyword">val</span> _min_match : int</code></dt><dt class="spec value" id="val-_min_lookahead"><a href="#val-_min_lookahead" class="anchor"></a><code><span class="keyword">val</span> _min_lookahead : int</code></dt><dt class="spec value" id="val-(.!())"><a href="#val-(.!())" class="anchor"></a><code><span class="keyword">val</span> (.!()) : <a href="../index.html#type-bigstring">bigstring</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int32</code></dt><dt class="spec value" id="val-(.![])"><a href="#val-(.![])" class="anchor"></a><code><span class="keyword">val</span> (.![]) : <a href="../index.html#type-bigstring">bigstring</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-(.!{})"><a href="#val-(.!{})" class="anchor"></a><code><span class="keyword">val</span> (.!{}) : <a href="../index.html#type-bigstring">bigstring</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int</code></dt></dl><dl><dt class="spec type" id="type-configuration"><a href="#type-configuration" class="anchor"></a><code><span class="keyword">type</span> configuration</code><code> = </code><code>{</code><table class="record"><tr id="type-configuration.max_chain" class="anchored"><td class="def field"><a href="#type-configuration.max_chain" class="anchor"></a><code>max_chain : int;</code></td></tr><tr id="type-configuration.max_lazy" class="anchored"><td class="def field"><a href="#type-configuration.max_lazy" class="anchor"></a><code>max_lazy : int;</code></td></tr><tr id="type-configuration.good_length" class="anchored"><td class="def field"><a href="#type-configuration.good_length" class="anchor"></a><code>good_length : int;</code></td></tr><tr id="type-configuration.nice_length" class="anchored"><td class="def field"><a href="#type-configuration.nice_length" class="anchor"></a><code>nice_length : int;</code></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-_1"><a href="#val-_1" class="anchor"></a><code><span class="keyword">val</span> _1 : <a href="index.html#type-configuration">configuration</a></code></dt><dt class="spec value" id="val-_2"><a href="#val-_2" class="anchor"></a><code><span class="keyword">val</span> _2 : <a href="index.html#type-configuration">configuration</a></code></dt><dt class="spec value" id="val-_3"><a href="#val-_3" class="anchor"></a><code><span class="keyword">val</span> _3 : <a href="index.html#type-configuration">configuration</a></code></dt><dt class="spec value" id="val-_4"><a href="#val-_4" class="anchor"></a><code><span class="keyword">val</span> _4 : <a href="index.html#type-configuration">configuration</a></code></dt><dt class="spec value" id="val-_5"><a href="#val-_5" class="anchor"></a><code><span class="keyword">val</span> _5 : <a href="index.html#type-configuration">configuration</a></code></dt><dt class="spec value" id="val-_6"><a href="#val-_6" class="anchor"></a><code><span class="keyword">val</span> _6 : <a href="index.html#type-configuration">configuration</a></code></dt><dt class="spec value" id="val-_7"><a href="#val-_7" class="anchor"></a><code><span class="keyword">val</span> _7 : <a href="index.html#type-configuration">configuration</a></code></dt><dt class="spec value" id="val-_8"><a href="#val-_8" class="anchor"></a><code><span class="keyword">val</span> _8 : <a href="index.html#type-configuration">configuration</a></code></dt><dt class="spec value" id="val-_9"><a href="#val-_9" class="anchor"></a><code><span class="keyword">val</span> _9 : <a href="index.html#type-configuration">configuration</a></code></dt><dt class="spec value" id="val-_mem_level"><a href="#val-_mem_level" class="anchor"></a><code><span class="keyword">val</span> _mem_level : int</code></dt><dt class="spec value" id="val-_hash_bits"><a href="#val-_hash_bits" class="anchor"></a><code><span class="keyword">val</span> _hash_bits : int</code></dt><dt class="spec value" id="val-_hash_size"><a href="#val-_hash_size" class="anchor"></a><code><span class="keyword">val</span> _hash_size : int</code></dt><dt class="spec value" id="val-_hash_mask"><a href="#val-_hash_mask" class="anchor"></a><code><span class="keyword">val</span> _hash_mask : int</code></dt><dt class="spec value" id="val-_hash_shift"><a href="#val-_hash_shift" class="anchor"></a><code><span class="keyword">val</span> _hash_shift : int</code></dt><dt class="spec value" id="val-_too_far"><a href="#val-_too_far" class="anchor"></a><code><span class="keyword">val</span> _too_far : int</code></dt><dt class="spec value" id="val-update_hash"><a href="#val-update_hash" class="anchor"></a><code><span class="keyword">val</span> update_hash : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int</code></dt></dl><dl><dt class="spec type" id="type-src"><a href="#type-src" class="anchor"></a><code><span class="keyword">type</span> src</code> = <code>[ </code><table class="variant"><tr id="type-src.Channel" class="anchored"><td class="def constructor"><a href="#type-src.Channel" class="anchor"></a><code>| </code><code>`Channel <span class="keyword">of</span> Stdlib.in_channel</code></td></tr><tr id="type-src.String" class="anchored"><td class="def constructor"><a href="#type-src.String" class="anchor"></a><code>| </code><code>`String <span class="keyword">of</span> string</code></td></tr><tr id="type-src.Manual" class="anchored"><td class="def constructor"><a href="#type-src.Manual" class="anchor"></a><code>| </code><code>`Manual</code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-decode"><a href="#type-decode" class="anchor"></a><code><span class="keyword">type</span> decode</code> = <code>[ </code><table class="variant"><tr id="type-decode.Await" class="anchored"><td class="def constructor"><a href="#type-decode.Await" class="anchor"></a><code>| </code><code>`Await</code></td></tr><tr id="type-decode.Flush" class="anchored"><td class="def constructor"><a href="#type-decode.Flush" class="anchor"></a><code>| </code><code>`Flush</code></td></tr><tr id="type-decode.End" class="anchored"><td class="def constructor"><a href="#type-decode.End" class="anchor"></a><code>| </code><code>`End</code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-state"><a href="#type-state" class="anchor"></a><code><span class="keyword">type</span> state</code><code> = </code><code>{</code><table class="record"><tr id="type-state.src" class="anchored"><td class="def field"><a href="#type-state.src" class="anchor"></a><code>src : <a href="index.html#type-src">src</a>;</code></td></tr><tr id="type-state.cfg" class="anchored"><td class="def field"><a href="#type-state.cfg" class="anchor"></a><code>cfg : <a href="index.html#type-configuration">configuration</a>;</code></td></tr><tr id="type-state.level" class="anchored"><td class="def field"><a href="#type-state.level" class="anchor"></a><code>level : int;</code></td></tr><tr id="type-state.i" class="anchored"><td class="def field"><a href="#type-state.i" class="anchor"></a><code><span class="keyword">mutable</span> i : <a href="../index.html#type-bigstring">bigstring</a>;</code></td></tr><tr id="type-state.i_pos" class="anchored"><td class="def field"><a href="#type-state.i_pos" class="anchor"></a><code><span class="keyword">mutable</span> i_pos : int;</code></td></tr><tr id="type-state.i_len" class="anchored"><td class="def field"><a href="#type-state.i_len" class="anchor"></a><code><span class="keyword">mutable</span> i_len : int;</code></td></tr><tr id="type-state.l" class="anchored"><td class="def field"><a href="#type-state.l" class="anchor"></a><code>l : <a href="../index.html#type-literals">literals</a>;</code></td></tr><tr id="type-state.d" class="anchored"><td class="def field"><a href="#type-state.d" class="anchor"></a><code>d : <a href="../index.html#type-distances">distances</a>;</code></td></tr><tr id="type-state.w" class="anchored"><td class="def field"><a href="#type-state.w" class="anchor"></a><code>w : <a href="../index.html#type-bigstring">bigstring</a>;</code></td></tr><tr id="type-state.wbits" class="anchored"><td class="def field"><a href="#type-state.wbits" class="anchor"></a><code>wbits : int;</code></td></tr><tr id="type-state.lookahead" class="anchored"><td class="def field"><a href="#type-state.lookahead" class="anchor"></a><code><span class="keyword">mutable</span> lookahead : int;</code></td></tr><tr id="type-state.strstart" class="anchored"><td class="def field"><a href="#type-state.strstart" class="anchor"></a><code><span class="keyword">mutable</span> strstart : int;</code></td></tr><tr id="type-state.prev" class="anchored"><td class="def field"><a href="#type-state.prev" class="anchor"></a><code>prev : <span>int array</span>;</code></td></tr><tr id="type-state.head" class="anchored"><td class="def field"><a href="#type-state.head" class="anchor"></a><code>head : <span>int array</span>;</code></td></tr><tr id="type-state.hash" class="anchored"><td class="def field"><a href="#type-state.hash" class="anchor"></a><code><span class="keyword">mutable</span> hash : int;</code></td></tr><tr id="type-state.match_start" class="anchored"><td class="def field"><a href="#type-state.match_start" class="anchor"></a><code><span class="keyword">mutable</span> match_start : int;</code></td></tr><tr id="type-state.match_length" class="anchored"><td class="def field"><a href="#type-state.match_length" class="anchor"></a><code><span class="keyword">mutable</span> match_length : int;</code></td></tr><tr id="type-state.match_available" class="anchored"><td class="def field"><a href="#type-state.match_available" class="anchor"></a><code><span class="keyword">mutable</span> match_available : bool;</code></td></tr><tr id="type-state.insert" class="anchored"><td class="def field"><a href="#type-state.insert" class="anchor"></a><code><span class="keyword">mutable</span> insert : int;</code></td></tr><tr id="type-state.prev_length" class="anchored"><td class="def field"><a href="#type-state.prev_length" class="anchor"></a><code><span class="keyword">mutable</span> prev_length : int;</code></td></tr><tr id="type-state.prev_match" class="anchored"><td class="def field"><a href="#type-state.prev_match" class="anchor"></a><code><span class="keyword">mutable</span> prev_match : int;</code></td></tr><tr id="type-state.q" class="anchored"><td class="def field"><a href="#type-state.q" class="anchor"></a><code>q : <a href="../Queue/index.html#type-t">Queue.t</a>;</code></td></tr><tr id="type-state.crc" class="anchored"><td class="def field"><a href="#type-state.crc" class="anchor"></a><code><span class="keyword">mutable</span> crc : <a href="../index.html#type-optint">optint</a>;</code></td></tr><tr id="type-state.k" class="anchored"><td class="def field"><a href="#type-state.k" class="anchor"></a><code><span class="keyword">mutable</span> k : <a href="index.html#type-configuration">configuration</a> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <a href="index.html#type-decode">decode</a>;</code></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-max_dist"><a href="#val-max_dist" class="anchor"></a><code><span class="keyword">val</span> max_dist : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> int</code></dt></dl><dl><dt class="spec exception" id="exception-Break"><a href="#exception-Break" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Break</span></code></dt></dl><dl><dt class="spec value" id="val-longest_match"><a href="#val-longest_match" class="anchor"></a><code><span class="keyword">val</span> longest_match : <a href="index.html#type-configuration">configuration</a> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-eoi"><a href="#val-eoi" class="anchor"></a><code><span class="keyword">val</span> eoi : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-src"><a href="#val-src" class="anchor"></a><code><span class="keyword">val</span> src : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <span><span>(char,Â <a href="../index.html#module-Bigarray">Bigarray</a>.int8_unsigned_elt,Â <a href="../index.html#module-Bigarray">Bigarray</a>.c_layout)</span> <a href="../index.html#module-Bigarray">Bigarray</a>.Array1.t</span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-i_rem"><a href="#val-i_rem" class="anchor"></a><code><span class="keyword">val</span> i_rem : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-src_rem"><a href="#val-src_rem" class="anchor"></a><code><span class="keyword">val</span> src_rem : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-io_buffer_size"><a href="#val-io_buffer_size" class="anchor"></a><code><span class="keyword">val</span> io_buffer_size : int</code></dt><dt class="spec value" id="val-refill"><a href="#val-refill" class="anchor"></a><code><span class="keyword">val</span> refill : <span>(<a href="index.html#type-configuration">configuration</a> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <a href="index.html#type-decode">decode</a>)</span> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <a href="index.html#type-decode">decode</a></code></dt><dt class="spec value" id="val-memcpy"><a href="#val-memcpy" class="anchor"></a><code><span class="keyword">val</span> memcpy : <a href="../index.html#type-bigstring">bigstring</a> <span>&#45;&gt;</span> <span>src_off:int</span> <span>&#45;&gt;</span> <a href="../index.html#type-bigstring">bigstring</a> <span>&#45;&gt;</span> <span>dst_off:int</span> <span>&#45;&gt;</span> <span>len:int</span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-update_crc"><a href="#val-update_crc" class="anchor"></a><code><span class="keyword">val</span> update_crc : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-insert_string"><a href="#val-insert_string" class="anchor"></a><code><span class="keyword">val</span> insert_string : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-succ_length"><a href="#val-succ_length" class="anchor"></a><code><span class="keyword">val</span> succ_length : <span>int array</span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-succ_distance"><a href="#val-succ_distance" class="anchor"></a><code><span class="keyword">val</span> succ_distance : <span>int array</span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-emit_match"><a href="#val-emit_match" class="anchor"></a><code><span class="keyword">val</span> emit_match : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <span>off:int</span> <span>&#45;&gt;</span> <span>len:int</span> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-succ_literal"><a href="#val-succ_literal" class="anchor"></a><code><span class="keyword">val</span> succ_literal : <span>int array</span> <span>&#45;&gt;</span> char <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-emit_literal"><a href="#val-emit_literal" class="anchor"></a><code><span class="keyword">val</span> emit_literal : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> char <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-trailing"><a href="#val-trailing" class="anchor"></a><code><span class="keyword">val</span> trailing : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <span>[&gt; `End ]</span></code></dt><dt class="spec value" id="val-slide_hash"><a href="#val-slide_hash" class="anchor"></a><code><span class="keyword">val</span> slide_hash : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-fill_window"><a href="#val-fill_window" class="anchor"></a><code><span class="keyword">val</span> fill_window : <a href="index.html#type-configuration">configuration</a> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <a href="index.html#type-decode">decode</a></code></dt><dt class="spec value" id="val-enough"><a href="#val-enough" class="anchor"></a><code><span class="keyword">val</span> enough : <a href="index.html#type-configuration">configuration</a> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <a href="index.html#type-decode">decode</a></code></dt><dt class="spec value" id="val-deflate_fast"><a href="#val-deflate_fast" class="anchor"></a><code><span class="keyword">val</span> deflate_fast : <a href="index.html#type-configuration">configuration</a> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <a href="index.html#type-decode">decode</a></code></dt><dt class="spec value" id="val-deflate_slow"><a href="#val-deflate_slow" class="anchor"></a><code><span class="keyword">val</span> deflate_slow : <a href="index.html#type-configuration">configuration</a> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <a href="index.html#type-decode">decode</a></code></dt><dt class="spec value" id="val-_literals"><a href="#val-_literals" class="anchor"></a><code><span class="keyword">val</span> _literals : int</code></dt><dt class="spec value" id="val-_length_codes"><a href="#val-_length_codes" class="anchor"></a><code><span class="keyword">val</span> _length_codes : int</code></dt><dt class="spec value" id="val-_l_codes"><a href="#val-_l_codes" class="anchor"></a><code><span class="keyword">val</span> _l_codes : int</code></dt><dt class="spec value" id="val-_d_codes"><a href="#val-_d_codes" class="anchor"></a><code><span class="keyword">val</span> _d_codes : int</code></dt><dt class="spec value" id="val-checksum"><a href="#val-checksum" class="anchor"></a><code><span class="keyword">val</span> checksum : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <a href="../index.html#type-optint">optint</a></code></dt><dt class="spec value" id="val-distances"><a href="#val-distances" class="anchor"></a><code><span class="keyword">val</span> distances : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <a href="../index.html#type-distances">distances</a></code></dt><dt class="spec value" id="val-literals"><a href="#val-literals" class="anchor"></a><code><span class="keyword">val</span> literals : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <a href="../index.html#type-literals">literals</a></code></dt><dt class="spec value" id="val-ctz"><a href="#val-ctz" class="anchor"></a><code><span class="keyword">val</span> ctz : int <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-state"><a href="#val-state" class="anchor"></a><code><span class="keyword">val</span> state : <span>?&#8288;level:int</span> <span>&#45;&gt;</span> <span>q:<a href="../Queue/index.html#type-t">Queue.t</a></span> <span>&#45;&gt;</span> <span>w:<span><span>(char,Â <a href="../index.html#module-Bigarray">Bigarray</a>.int8_unsigned_elt,Â <a href="../index.html#module-Bigarray">Bigarray</a>.c_layout)</span> <a href="../index.html#module-Bigarray">Bigarray</a>.Array1.t</span></span> <span>&#45;&gt;</span> <a href="index.html#type-src">src</a> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a></code></dt><dt class="spec value" id="val-compress"><a href="#val-compress" class="anchor"></a><code><span class="keyword">val</span> compress : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> <a href="index.html#type-decode">decode</a></code></dt></dl><dl><dt class="spec type" id="type-window"><a href="#type-window" class="anchor"></a><code><span class="keyword">type</span> window</code><code> = <a href="../index.html#type-bigstring">bigstring</a></code></dt></dl><dl><dt class="spec value" id="val-make_window"><a href="#val-make_window" class="anchor"></a><code><span class="keyword">val</span> make_window : <span>bits:int</span> <span>&#45;&gt;</span> <span><span>(char,Â <a href="../index.html#module-Bigarray">Bigarray</a>.int8_unsigned_elt,Â <a href="../index.html#module-Bigarray">Bigarray</a>.c_layout)</span> <a href="../index.html#module-Bigarray">Bigarray</a>.Array1.t</span></code></dt></dl></div></body></html>